<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Page10a</title>
    <!-- -- Bootstrap --  -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <!-- -- icon --  -->
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
      crossorigin="anonymous"
    />
    <!-- -- fabicon --  -->
    <link rel="icon" type="image/x-icon" href="assets/img/favicon/fabicon.png">
    <!-- -- css --  -->
    <link rel="stylesheet" href="./assets/css/main.css" />
    <link rel="stylesheet" href="./assets/css/dashboard.css" />
    <style>
      .fst-div,
      .snd-div,
      .frh-div,
      .fth-div {
        background: #01c90e;
        border-bottom: 0;
      }
      .fst-div p,
      .snd-div p,
      .frh-div p,
      .fth-div p {
        color: #fff;
      }
      .fst-div .num,
      .snd-div .num {
        color: #fff;
      }
      .trd-div {
        text-align: center;
        border-bottom: 4px solid #e3b51c;
      }
      @media only screen and (max-width: 770px) {
        .top-content {
          display: block;
        }
        .fst-div,
        .fth-div ,
        .snd-div,
        .frh-div {
          display: none;
        }
          .trd-div {
          width: 100%;
        }
        .upload__btn {
          width: 90%;
        }
        .upload__img-box {
          width: 100%;
        }
      } 
    </style>
  </head>
  <body>
    <div class="grand-div">
      <div class="header">
        <div class="logo">
          <img src="./assets/img/header/logo.png" alt="" />
        </div>
      </div>
      <!-- -- top-content --  -->
      <div class="top-content">
        <div class="arrow-div">
          <div class="fst-div">
            <p class="step">Step 1</p>
            <p>Basic Details</p>
            <p class="num">123456</p>
          </div>
          <div class="snd-div">
            <p class="step">Step 2</p>
            <p>Property Setup</p>
            <p class="num">123456</p>
          </div>
        </div>
        <div class="frh-div">
          <p class="step">Step 3</p>
          <p>Pricing and Calender</p>
        </div>
        <div class="fth-div">
          <p class="step">Step 4</p>
          <p>Legal Information</p>
        </div>
        <div class="trd-div">
          <p class="step">Step 5</p>
          <p>Photos</p>
        </div>
      </div>
      <!-- -- closed top-content --  -->
      <div class="add-photo">
        <h4 class="heading">What does your place look like?</h4>
        <div class="add-photo-option">
          <p class="text">Add at one photo now. <span>You can</span></p>
          <div class="image-div">
            <i class="fad fa-images"></i>
            <p class="image-text">
              Drag and Drop your photos here <br />
              or
            </p>
            <!-- <div class="image-input">
              <input type="file" accept="image/*" id="imageInput" />
              <label for="imageInput" class="image-button"
                ><i class="fas fa-camera-alt"></i> Upload photos</label
              >
            </div> -->
            <div class="upload__box">
              <div class="upload__btn-box">
                <label class="upload__btn">
                  <i class="fas fa-camera-alt"></i>
                  <p>Upload images</p>
                  <input
                    type="file"
                    multiple=""
                    data-max_length="20"
                    class="upload__inputfile"
                  />
                </label>
              </div>
              <div class="upload__img-wrap"></div>
            </div>
            <!-- ---------- -->
          </div>
          <div class="import-photo">
            <div class="download-arrow">
              <img src="./assets/img/page10a/download.png" alt="" />
            </div>
            <p>Import photos from your stayTrails listing</p>
          </div>
        </div>
        <div class="btns">
          <button onclick="location.href='pagelegal.html'" class="left-arrow"
            ><i class="far fa-arrow-left"></i>BACK</button
          >
          <button onclick="location.href='pagelast.html'" class="continue"
            >SUBMIT <i class="far fa-arrow-right"></i
          ></button>
        </div>
      </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script>
      jQuery(document).ready(function () {
        ImgUpload();
      });

      function ImgUpload() {
        var imgWrap = "";
        var imgArray = [];

        $(".upload__inputfile").each(function () {
          $(this).on("change", function (e) {
            imgWrap = $(this).closest(".upload__box").find(".upload__img-wrap");
            var maxLength = $(this).attr("data-max_length");

            var files = e.target.files;
            var filesArr = Array.prototype.slice.call(files);
            var iterator = 0;
            filesArr.forEach(function (f, index) {
              if (!f.type.match("image.*")) {
                return;
              }

              if (imgArray.length > maxLength) {
                return false;
              } else {
                var len = 0;
                for (var i = 0; i < imgArray.length; i++) {
                  if (imgArray[i] !== undefined) {
                    len++;
                  }
                }
                if (len > maxLength) {
                  return false;
                } else {
                  imgArray.push(f);

                  var reader = new FileReader();
                  reader.onload = function (e) {
                    var html =
                      "<div class='upload__img-box'><div style='background-image: url(" +
                      e.target.result +
                      ")' data-number='" +
                      $(".upload__img-close").length +
                      "' data-file='" +
                      f.name +
                      "' class='img-bg'><div class='upload__img-close'></div></div></div>";
                    imgWrap.append(html);
                    iterator++;
                  };
                  reader.readAsDataURL(f);
                }
              }
            });
          });
        });

        $("body").on("click", ".upload__img-close", function (e) {
          var file = $(this).parent().data("file");
          for (var i = 0; i < imgArray.length; i++) {
            if (imgArray[i].name === file) {
              imgArray.splice(i, 1);
              break;
            }
          }
          $(this).parent().parent().remove();
        });
      }
    </script>
  </body>
</html>
